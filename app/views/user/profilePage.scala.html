@import helpers.UserAccessLevel
@(user: AppUser)
@main {
    <div class="container">
        <div class="row">
            <div class="contact-caption clearfix">
                <div class="contact-heading text-center">
                    <h2>edit profile</h2>
                </div>
                <div class="info-detail form-group">

                <div class="col-md-5 contact-info text-left">
                        <div class="text-center">
                            @if(user.profileImg == null) {
                                <img class="avatar img-circle img-thumbnail" src="http://www.dreveterinary.com/lib/img/placeholder_small.png" alt=""/>
                            }else{
                                <img src="@user.profileImg.getThumbnail"/>
                            }
                            <h6>Upload a profile photo...</h6>
                            <input type="file" name="image" class="form-control" multiple/>
                        </div>

                    <div class="col-md-2 pannel-button">
                        @if(user.userAccessLevel == UserAccessLevel.HOTEL_MANAGER) {
                        <div class="button">
                            <a href="@routes.Users.showManagerHotels()"> <button class="btn btn-danger" style="height : 100px">MANAGER PANEL</button></a>
                        </div>
                        }
                        @if(user.userAccessLevel == UserAccessLevel.SELLER) {
                        <div class="col-md-2 pannel-button carousel-caption">
                            <button onclick="@routes.Hotels.showSellerHotels(user.id)">your hotels</button>
                        </div>
                        }
                    </div>

                </div>

                <div class="col-md-6 col-md-offset-1 contact-form">
                    @if(flash.containsKey("error")) {
                    <div class="alert alert-danger alert-dismissable">
                        <a class="panel-close close" data-dismiss="alert">�</a>
                        <i class="fa fa-coffee"></i>
                        @flash.get("error");
                    </div>
                    }

                    @if(flash.containsKey("success")) {
                    <div class="alert alert-success alert-dismissable">
                        <a class="panel-close close" data-dismiss="alert">�</a>
                        <i class="fa fa-coffee"></i>
                        @flash.get("success");
                    </div>
                    }

                    <form class="form-horizontal" role="form" method="post" action="@routes.Users.updateUser(user.email)">
                        <div class="form-group">
                            <label class="col-lg-3 control-label">First name:</label>
                            <div class="col-lg-8">
                                <input class="form-control" name="firstname" required placeholder="Name" type="text" value="@user.firstname">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label">Last name:</label>
                            <div class="col-lg-8">
                                <input class="form-control" name="lastname" required placeholder="Last name"  type="text" value="@user.lastname">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label">Email:</label>
                            <div class="col-lg-8">
                                <input class="form-control" name="email" required placeholder="example&#example.com" type="text" value="@user.email" onfocus="this.blur()" readonly="readonly">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">Password:</label>
                            <div class="col-md-8">
                                <input class="form-control" name="password"  placeholder="Password" type="password" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">Confirm password:</label>
                            <div class="col-md-8">
                                <input class="form-control" name="passwordretype"  placeholder="Retype password" type="password" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">Phone number:</label>
                            <div class="col-md-8">
                                <input class="form-control" name="phoneNumber" required placeholder="+12345678910" type="text" value="@user.phoneNumber">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label"></label>
                            <div class="col-md-8">
                                <input class="submit-btn" type="submit" value="SAVE UPDATES" onclick="@routes.Users.updateUser(user.email)">
                            </div>
                        </div>
                    </form>
                </div>
                </div>
            </div>
        </div>
    </div>
}