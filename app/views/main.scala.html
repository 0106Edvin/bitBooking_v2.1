@import helpers.SessionsAndCookies

@import helpers.UserAccessLevel
@(content: Html)(implicit currentUser: AppUser = SessionsAndCookies.getCurrentUser(ctx()))

<!DOCTYPE html>

<html lang="en">
    <head>
        <title></title>
        <script src='https://www.google.com/recaptcha/api.js'></script>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" media="screen" href='@routes.Assets.versioned("stylesheets/font-awesome.css")' />
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css">
        <link rel="stylesheet" media="screen" href='@routes.Assets.versioned("stylesheets/jquery-ui.min.css")'/>

        <link rel="stylesheet" href='@routes.Assets.versioned("bootstrap/css/style.css")'>
        <link rel="stylesheet" href='@routes.Assets.versioned("stylesheets/sweetalert.css")'>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script src='@routes.Assets.versioned("javascripts/bootbox.min.js")'></script>
        <script src='@routes.Assets.versioned("javascripts/sweetalert.min.js")'></script>


        <script src='@routes.Assets.versioned("javascripts/register.js")'></script>

        <script src='@routes.Assets.versioned("javascripts/deleteConfirmation.js")'></script>
        <script type="text/javascript" src='@routes.Assets.versioned("javascripts/jquery-ui.min.js")'></script>
        <link rel="stylesheet" media="screen" href='@routes.Assets.versioned("stylesheets/jquery-ui.min.css")'/>
        <script type="text/javascript" src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>



        <script src='@routes.Assets.versioned("javascripts/js/coordinate.js")'></script>
        <link rel="stylesheet" href='@routes.Assets.versioned("stylesheets/coordinate.css")'>
        <link rel="stylesheet" href='@routes.Assets.versioned("stylesheets/buttons.css")'>
        <link rel="stylesheet" href='@routes.Assets.versioned("stylesheets/main.css")'/>


        <script src='@routes.Assets.versioned("javascripts/js/jquery.easyPaginate.js")'></script>
        <script src='@routes.Assets.versioned("javascripts/js/jquery.snippet.min.js")'></script>
        <script src='@routes.Assets.versioned("javascripts/js/scripts.js")'></script>

        <link rel="stylesheet" href='@routes.Assets.versioned("bootstrap/css/jquery.snippet.min.css")'>

        <link href='http://fonts.googleapis.com/css?family=Open+Sans:600italic,400,800,700,300' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=BenchNine:300,400,700' rel='stylesheet' type='text/css'>

    <script src='@routes.Assets.versioned("http://maps.google.com/maps/api/js?sensor=true")'></script>
        <script src='@routes.Assets.versioned("javascripts/js/smoothscroll.js")'></script>

        <script type="text/javascript">
        $(document).ready(function(){
          $(function () {
             $('#date').datepicker({ minDate: 0 });
          });
          $(function () {
             $('#date2').datepicker({ minDate: 1 });
          });
          });
        </script>
    </head>
    <div class="all">
    <body >
        <header class="top-header">
            <div class="container">
                <div class="row">
                    <div class="col-xs-5 header-logo">
                        <br>
                        <a href="@routes.Application.index()"><img src= "@routes.Assets.versioned("img/logo.png")" alt="" class="img-responsive logo"></a>
                    </div>

                    <div class="col-md-7">
                        <nav class="navbar navbar-default">
                            <div class="container-fluid nav-bar">
                                    <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                </div>

                                    <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                @helper.form(action = routes.Users.login()) {
                                    <ul class="nav navbar-nav navbar-right">
                                        <li><a class="menu active" href="@routes.Application.index()" >Home</a></li>
                                        @if(currentUser == null) {
                                            <li><a class="menu" href="@routes.Users.registerUser">register</a></li>

                                            <li class="menu">

                                                <a href="" id="bugfix" class="dropdown-toggle" data-toggle="dropdown" title="User dashboard" aria-expanded="true">
                                                    Login </a>
                                                <div class="form-group" style="font-size: 20px; color: green; margin-left: 10px;">
                                                    @if(flash.containsKey("pass-changed-success")) {
                                                    @flash.get("pass-changed-success")
                                                    }
                                                </div>
                                                <div class="form-group" style="font-size: 20px; color: red; margin-left: 10px;">
                                                    @if(flash.containsKey("pass-changed-error")) {
                                                    @flash.get("pass-changed-error")
                                                    }
                                                </div>
                                                <div class="dropdown-menu" style="background-color: transparent; border: none; background: rgba(255,255,255,0.5)">
                                                    <form id="formLogin" class="form container-fluid">
                                                        <h1></h1>
                                                        <br>
                                                        <div class="form-group">
                                                            <input class="form-control" name="email" id="username" type="text" placeholder="Email" title="Enter your username" required="" style="height: 40px; font-size: 20px; margin: 10px; width: 240px">
                                                        </div>
                                                        <div class="form-group">
                                                            <input class="form-control" name="password" id="password" type="password" placeholder="Password" title="Enter your password" required="" style="height: 40px; font-size: 20px; margin: 10px; width: 240px">
                                                        </div>
                                                        <div class="form-group" style="font-size: 20px; color: red; margin-left: 10px;">
                                                        @if(flash.containsKey("login-error")) {
                                                            @flash.get("login-error")
                                                        }
                                                        </div>
                                                        <input type="submit"  id="btnLogin" name="submit" value="Log in" class="btn btn-primary" onclick="@routes.Users.login()"/>
                                                        <div class="forgotten-password-div">
                                                            <a class="forgotten-password-a" href="@routes.Users.askForPasswordChange()">Forgot your password?</a>
                                                        </div>
                                                    </form>
                                                </div>
                                            </li>
                                        } else {
                                            @if(currentUser.userAccessLevel.equals(UserAccessLevel.ADMIN)) {
                                                <ul class="nav navbar-nav">
                                                    <li class="dropdown">
                                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Admin dashboard<span class="caret"></span></a>
                                                        <ul class="dropdown-menu" role="menu">
                                                            <li><a class="menu font-size-20" href="@routes.Users.showAdminPanel()" > <i class="fa fa-bars fa-fw"></i> Admin panel</a></li>
                                                            <li class="divider"></li>
                                                            <li><a class="menu font-size-20" href="@routes.Users.showAdminUsers()"> <i class="fa fa-users fa-fw"></i> See All Users</a></li>
                                                            <li><a class="menu font-size-20" href="@routes.Users.showAdminHotels()" > <i class="fa fa-building-o fa-fw"></i> See All Hotels</a></li>
                                                            <li><a class="menu font-size-20" href="@routes.Users.showAdminFeatures()" > <i class="fa fa-flag fa-fw"></i> See All Features</a></li>
                                                            <li><a class="menu font-size-20" href="@routes.Features.createFeature()" > <i class="fa fa-plus fa-fw"></i> Add New Feature</a></li>
                                                            <li class="divider"></li>
                                                            <li><a class="menu font-size-20" href="@routes.Application.seeErrors()" > <i class="rediconcolor fa fa-exclamation-triangle fa-fw"></i> Logged errors</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            }
                                            @if(currentUser.userAccessLevel.equals(UserAccessLevel.HOTEL_MANAGER)) {
                                                <ul class="nav navbar-nav">
                                                    <li class="dropdown">
                                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Manager dashboard<span class="caret"></span></a>
                                                        <ul class="dropdown-menu" role="menu">
                                                            <li><a class="menu font-size-20" href="@routes.Users.showManagerHotels()" > <i class="fa fa-building-o fa-fw"></i> Manage Hotels</a></li>
                                                            <li><a class="menu font-size-20" href="@routes.Hotels.createHotel()" > <i class="fa fa-plus fa-fw"></i> Add New Hotel</a></li>
                                                            <li class="divider"></li>
                                                            <li><a class="menu font-size-20" href="@routes.Users.seeAllSellers()" > <i class="fa fa-users fa-fw"></i> See All Sellers</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            }
                                            @if(currentUser.userAccessLevel.equals(UserAccessLevel.SELLER)) {
                                                <script type="text/javascript" src="@routes.Assets.versioned("javascripts/reservationNotify.js")"></script>
                                                <script type="text/javascript" src="@routes.Assets.versioned("javascripts/messageNotify.js")"></script>
                                                <ul class="nav navbar-nav">
                                                    <li class="dropdown">
                                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Seller dashboard<span class="caret"></span></a>
                                                        <ul class="dropdown-menu" role="menu">
                                                            <li><a class="menu font-size-20" href="@routes.Hotels.showSellerHotels(currentUser.id)" > <i class="fa fa-building fa-fw"></i> Your hotels</a></li>
                                                            <li><a class="menu font-size-20" href="@routes.Rooms.allReservations()"> <i class="fa fa-list-alt fa-fw"></i> See all reservations <span class="info badge font-size-15" id="notify"></span></a></li>
                                                            <li class="divider"></li>
                                                            <li><a class="menu font-size-20" href="@controllers.user.routes.Seller.createPromotion()"> <i class="fa fa-plus fa-fw"></i> Create promotion</a></li>
                                                            <li><a class="menu font-size-20" href="@controllers.user.routes.Seller.statistics()"> <i class="fa fa-line-chart fa-fw"></i> Statistics</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                                <li><a class="menu" href="@routes.MessageController.allMessages()" >Messages <span class="info badge font-size-15" id="msgs"></span></a></li>
                                            }
                                            @if(currentUser.userAccessLevel.equals(UserAccessLevel.BUYER)) {
                                                <script type="text/javascript" src="@routes.Assets.versioned("javascripts/messageNotify.js")"></script>
                                                <li><a class="menu" href="@routes.Reservations.showBuyerReservations(currentUser.id)" >My reservations</a></li>
                                                <li><a class="menu" href="@routes.MessageController.allMessages()" >Messages <span class="info badge font-size-15" id="msgs"></span></a></li>
                                            }
                                            <ul class="nav navbar-nav">
                                                <li class="dropdown">
                                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                                                        @currentUser.firstname <span class="caret"></span></a>
                                                    <ul class="dropdown-menu" role="menu">
                                                        <li><a class="menu my-profile font-size-20" href="@routes.Users.editUser(currentUser.email)"><i class="fa fa-pencil-square-o fa-fw"></i> Edit profile</a></li>
                                                        <li class="divider"></li>
                                                        <li><a class="menu font-size-20" href="@routes.Users.logOut()"><i class="fa fa-sign-out fa-fw"></i> Log out</a></li>
                                                    </ul>
                                                </li>
                                            </ul>

                                        }

                                    </ul>
                                }

                                </div><!-- /navbar-collapse -->


                            </div><!-- / .container-fluid -->

                        </nav>
                        <div  style="font-size: 20px; color: red; margin-right: 1.8cm;" align="right">
                        @if(flash.containsKey("error-search")) {
                            @flash.get("error-search")
                        }
                        </div>
                        <div  style="font-size: 20px; color: #189800; margin-right: 1.8cm;" align="right">
                        @if(flash.containsKey("info")) {
                            @flash.get("info")
                        }
                        </div>

                    </div>
                </div>
            </div>
        </header> <!-- end of header area -->
           @content

    </body>
        <div class="push"></div>
        @_footer()
    </div>

</html>